!function(n){"use strict";welaunch.field_objects=welaunch.field_objects||{},welaunch.field_objects.color=welaunch.field_objects.color||{},welaunch.field_objects.color.init=function(t){t=n.welaunch.getSelector(t,"color"),n(t).each(function(){var i=n(this),t=i;i.hasClass("welaunch-field-container")||(t=i.parents(".welaunch-field-container:first")),t.is(":hidden")||t.hasClass("welaunch-field-init")&&(t.removeClass("welaunch-field-init"),i.find(".welaunch-color-init").wpColorPicker({change:function(t,r){n(this).val(r.color.toString()),welaunch_change(n(this)),i.find("#"+t.target.getAttribute("data-id")+"-transparency").removeAttr("checked")},clear:function(){n(this).val(""),welaunch_change(n(this).parent().find(".welaunch-color-init"))}}),i.find(".welaunch-color").on("focus",function(){n(this).data("oldcolor",n(this).val())}),i.find(".welaunch-color").on("keyup",function(){var t=n(this).val(),r=colorValidate(this),e="#"+n(this).attr("id");"transparent"===t?(n(this).parent().parent().find(".wp-color-result").css("background-color","transparent"),i.find(e+"-transparency").attr("checked","checked")):(i.find(e+"-transparency").removeAttr("checked"),r&&r!==n(this).val()&&n(this).val(r))}),i.find(".welaunch-color").on("blur",function(){var t=n(this).val(),r="#"+n(this).attr("id");"transparent"===t?(n(this).parent().parent().find(".wp-color-result").css("background-color","transparent"),i.find(r+"-transparency").attr("checked","checked")):(colorValidate(this)===t&&0!==t.indexOf("#")&&n(this).val(n(this).data("oldcolor")),i.find(r+"-transparency").removeAttr("checked"))}),i.find(".welaunch-color").on("keydown",function(){n(this).data("oldkeypress",n(this).val())}),i.find(".color-transparency").on("click",function(){var t;n(this).is(":checked")?(i.find(".welaunch-saved-color").val(n("#"+n(this).data("id")).val()),i.find("#"+n(this).data("id")).val("transparent"),i.find("#"+n(this).data("id")).parents(".welaunch-field-container").find(".wp-color-result").css("background-color","transparent")):(""===(t=n(this).parents(".welaunch-field-container").find(".welaunch-saved-color").val())&&(t=n("#"+n(this).data("id")).data("default-color")),i.find("#"+n(this).data("id")).parents(".welaunch-field-container").find(".wp-color-result").css("background-color",t),i.find("#"+n(this).data("id")).val(t)),welaunch_change(n(this))}))})}}(jQuery);